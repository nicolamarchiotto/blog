{% extends "base.html" %}

{% block content %}

{% block biography %}
<div class="">
  <div class="flex md:flex-row flex-wrap sm:flex-nowrap justify-end container max-w-screen-xl py-10 px-2">
    <div class="basis-full sm:basis-2/5 sm:fixed sm:left-2 sm:top-8 sm:justify-center ">
      {% set image = resize_image(path=config.extra.avatar, format="webp", width=208, height=208) %}
      <img class="object-center w-52 h-52 rounded-full mx-auto" src="{{image.url}}" alt="Profile image"/>
      <h1 class="text-center font-bold text-gray-900 text-3xl py-4">{{ config.title }}</h1>
      
      <div class="flex flex-row flex-wrap container py-4 justify-center">
        {% for icon in section.extra.avatar_icons %}
          <div class="basis p-3 ">
            <a href="{{icon.link}}" target="_blank"><i>{{ icons::factory(icon=icon.icon,classes="inline h-12 w-12 flex-no-shrink stroke-blue-600 hover:stroke-blue-800 visited:stroke-purple-600 fill-blue-600 visited:fill-purple-600 hover:fill-blue-800 ") }}</i></a>
          </div>
        {% endfor %}
      </div>

      <div>
        <h2 class="text-center text-md font-medium text-gray-900 ">Contact me at</h2>      
        <h2 class="text-center text-md font-bold text-gray-900">{{ config.extra.email  }}</h2>          
      </div>
      <div class="py-10 text-center ">
        <h1 class="text-center text-md font-medium text-gray-900">Get my CV&nbsp</h1> 
        <div class="flex flex-row justify-center">     
          <a class="underline font-bold text-myblue" href="/cv/CV_eng.pdf" target="_blank" download="Marchiotto_CV_Eng.pdf">
            ENG
          </a>   
          &nbsp&nbsp&nbsp
          <a class="underline font-bold text-myblue" href="/cv/CV_ita.pdf" target="_blank" download="Marchiotto_CV_ITA.pdf">
            ITA
          </a>         
        </div>
      </div>
    </div>
    <div class="basis-full sm:basis-3/5 right-0 ">
      <h1 class="font-bold font-sans break-normal text-gray-900 text-3xl sm:text-5xl pb-4">{{trans(key="Biography", lang=lang)}}</h1>
      <p class="prose prose-indigo mx-6">
        {{ section.content | safe }}
      </p>
      
      <!-- EXPERIENCE -->
      <div class="basis-full py-4">
        <h2 class="font-bold font-sans break-normal text-gray-900 text-2xl pb-2">{{trans(key="Experience", lang=lang)}}</h2>
        <ul class="py-1">
          {% for work in section.extra.experience.works %}
          <li class="py-2">
            <div class="flex flex-row flex-wrap">
              <div class="basis-full flex flex-row">
                <i>{{ icons::factory(icon="work",classes="inline h-6 w-6 flex-no-shrink font-bold") }}</i> 
                <p class="px-1 font-bold underline underline-offset-4">
                  {{ work.company }}
                </p> 
              </div>
              <div class="px-7-p">
                <div class="basis-full ">
                  {{work.description}}
                </div>
                <div class="basis-full text-gray-600 italic">
                  {{ work.position }}, {{work.year}}
                </div>
                <div class="flex flex-row flex-wrap">
                  {% for skill in work.skills %}
                  <div class="colored-box">
                    <p>{{skill}}</p>
                  </div>
                  {% endfor %}
                </div>
              </div>
            </div>
          </li>
          {% endfor %}
        </ul>
      </div>

      <!-- EDUCATION -->
      <div class="basis-full py-4">
        <h2 class="font-bold font-sans break-normal text-gray-900 text-2xl pb-2">{{trans(key="Education", lang=lang)}}</h2>
        <ul class="">
          {% for course in section.extra.education.courses %}
          <li class="py-1">
            <div class="flex flex-row flex-wrap">
              <div class="basis-full flex flex-row">
                <i>{{ icons::factory(icon="academic",classes="inline h-6 w-6 flex-no-shrink") }}</i>
                <p class="px-1 font-bold underline underline-offset-4">
                  {{ course.course }}
                </p>  
              </div>
              <div class="px-7-p">
                <div class="basis-full text-gray-600 italic">
                  {{ course.institution }}, {{course.year}}
                </div>
              </div>
            </div>
          </li>
          {% endfor %}
        </ul>
      </div>
      
      
    </div>
  </div>
  {% endblock biography %}

  {% block index_summaries -%}

  {% set_global index = 0 -%}
  {% for ssection in section.subsections -%}
  {% set ssection_data = get_section(path=ssection, metadata_only=true) -%}
  {% if ssection_data.extra.index_show -%}
      <div class="{% if index % 2 != 0%} bg-white {% else %} bg-gray-50 {% endif %}">
        <div class="container max-w-4xl mx-auto px-4 py-8">
          {% set index_elements = ssection_data.extra.index_elements | default(value=2) -%}
          {% set show_description = ssection_data.extra.description_in_index | default(value=true) -%}
          {{ macros::section_index_summary(section_path=ssection, show_element=index_elements, show_description=show_description) }}
        </div>
      </div>
    {% set_global index = index + 1 -%}
    {% endif -%}
  {% endfor -%}
  {% endblock index_summaries -%}

  {% block index_contact -%}

    {% if lang == config.default_language -%}
      {% set contact_in_index = config.extra.menu_items -%}
    {% else -%}
      {% set contact_in_index = config.extra[lang].menu_items -%}
    {% endif -%}

    {% if contact_in_index and contact_in_index == true -%}
    <div class="{% if index % 2 != 0%} bg-white {% else %} bg-gray-50 {% endif %}">
      <div class="container max-w-4xl mx-auto px-4">
      {{ macros::contact_from_config(section=section, config=config) }}
      </div>
    </div>
    {% endif -%}
  {% endblock index_contact -%}

{% endblock content-%}
